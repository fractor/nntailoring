/*  Copyright 2016, Mathscribe, Inc.  Released under the MIT license (same as jQuery).
	See e.g. http://jquery.org/license for an explanation of this license.  */
"use strict";var jsCurry=function(){function r(n){if("function"==typeof n)return r.curry.apply(void 0,arguments);if(2==arguments.length){var t=arguments[1];if("string"==typeof n)return t[n].bind(t);if("function"==typeof t)return("number"==typeof n?r.aritize:r.partial)(n,t)}return 1==arguments.length||r.err(err_F_1_),"number"==typeof n||"string"==typeof n?r.pToF(n):1==n.nodeType?jQuery.data(n):n&&"object"==typeof n?r.aToF(n):void r.err(err_F_2_)}var n=Array.prototype.slice;return Function.prototype.bind||(Function.prototype.bind=function(r){var t=this,e=n.call(arguments,1);return function(){return t.apply(r,e.concat(n.call(arguments,0)))}}),String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s+|\s+$/g,"")}),Array.isArray||(Array.isArray=function(r){return"object"==typeof r&&null!==r&&"[object Array]"===Object.prototype.toString.call(r)}),Object.keys||(Object.keys=function(r){var n=[];for(var t in r)r.hasOwnProperty(t)&&n.push(t);return n}),Date.now||(Date.now=function(){return(new Date).getTime()}),r.err=function(){throw r.debug,Error("Assertion failed")},r.id=function(r){return r},r.constant=function(r){return function(){return r}},r.applyF=function(r,n){return r.apply(void 0,n)},r.curry=function(r){var n=r;return arguments[0]=void 0,n.bind.apply(n,arguments)},r._={},r.partial=function(t,e){var u=t.length;return function(){for(var i=n.call(arguments,0),o=0;u>o;o++)t[o]!==r._?i.splice(o,0,t[o]):i.length==o&&i.push(void 0);return e.apply(this,i)}},r.uncurry=function(r){return function(n,t){return r(n)(t)}},r.o=function(){var r=arguments;return function(){for(var n=r.length,t=r[--n].apply(void 0,arguments);n>0;)t=r[--n](t);return t}},r.oMap=function(n,t){return function(){return r.applyF(n,r.map(t,arguments))}},r.flip=function(r){return function(n,t){return r(t,n)}},r.seqF=function(){var r=arguments,n=r.length;return function(){for(var t,e=0;n>e;e++)t=r[e].apply(void 0,arguments);return t}},r.cor=function(){var n=arguments;return function(){return r.any(r([r._,arguments],r.applyF),n)}},r.aritize=function(t,e){return function(){return r.applyF(e,n.call(arguments,0,t))}},r.not=function(r){return!r},r.defOr=function(r,n){return void 0!==r?r:n},r.cmpX=function(r,n){return r-n},r.cmpJS=function(r,n){return n>r?-1:r==n?0:1},r.cmpLex=function(n,t,e){return r.any(function(r,t){return t==e.length?1:n(r,e[t])},t)||t.length-e.length},r.eqTo=function(n,t){return t||(t=function(r,n){return r!==n}),r.o(r.not,r(t,n))},r.pToF=function(r){return function(n){return n[r]}},r.aToF=function(r){return function(n){return r[n]}},r.fToA=function(r,n){for(var t=new Array(n),e=0;n>e;e++)t[e]=r(e);return t},r.memoF=function(r,n){return n||(n={}),function(t){return n.hasOwnProperty(t)?n[t]:n[t]=r(t)}},r.replicate=function(n,t){return r.fToA(r.constant(t),n)},r.setF=function(r,n,t){r[n]=t},r.obj1=function(r,n){var t={};return t[r]=n,t},r.slice=function(r,n,t){if(null==n&&(n=0),Array.isArray(r))return r.slice(n,t);var e=r.length;n=0>n?Math.max(0,e+n):Math.min(e,n),t=void 0===t?e:0>t?Math.max(0,e+t):Math.min(e,t);for(var u=[];t>n;)u.push(r[n++]);return u},r.array=function(){return n.call(arguments,0)},r.concatArgs=r.oMap(r("concat",[]),function(n){return Array.isArray(n)?n:r.slice(n)}),r.concatMap=function(n,t){return r.applyF(r.concatArgs,r.map(n,t))},r.reverseCopy=function(n){return r.slice(n).reverse()},r.findIndex=function(r,n){for(var t=n.length,e=0;t>e;e++)if(r(n[e],e,n))return e;return-1},r.findLastIndex=function(r,n){for(var t=n.length;--t>=0;)if(r(n[t],t,n))return t;return-1},r.find=function(n,t){var e=r.findIndex(n,t);return-1==e?void 0:t[e]},r.elemIndex=function(n,t,e){return t.indexOf&&!e&&Array.isArray(t)?t.indexOf(n):r.findIndex(r.eqTo(n,e),t)},r.elemLastIndex=function(n,t,e){return t.lastIndexOf&&!e&&Array.isArray(t)?t.lastIndexOf(n):r.findLastIndex(r.eqTo(n,e),t)},r.elem=function(n,t,e){return-1!=r.elemIndex(n,t,e)},r.all=function(r,n){if(n.every&&Array.isArray(n))return n.every(r);for(var t=n.length,e=0;t>e;e++)if(!r(n[e],e,n))return!1;return!0},r.any=function(r,n){for(var t=n.length,e=!1,u=0;t>u;u++)if(e=r(n[u],u,n))return e;return e},r.iter=function(t,e){if(2==arguments.length){if(e.forEach&&Array.isArray(e))return e.forEach(t);for(var u=e.length,i=0;u>i;i++)t(e[i],i,e)}else{arguments.length>2||r.err(err_iter_);for(var o=n.call(arguments,1),u=r.applyF(Math.min,r.map(r("length"),o)),i=0;u>i;i++)r.applyF(t,r.map(r(i),o).concat(i,o))}},r.map=function(r,n){if(n.map&&Array.isArray(n))return n.map(r);for(var t=n.length,e=new Array(t),u=0;t>u;u++)e[u]=r(n[u],u,n);return e},r.map1=function(n,t){return r.map(r(1,n),t)},r.zipWith=function(n){arguments.length>1||r.err(err_zipWith_);for(var t=[],e=0;;e++){for(var u=[],i=1;i<arguments.length;i++){var o=arguments[i];if(!(e<o.length))return t;u.push(o[e])}t.push(r.applyF(n,u))}return t},r.zip=r(r.zipWith,r.array),r.unzip=function(n){return n.length?r.applyF(r.zip,n):[]},r.filter=function(n,t){return t.filter&&Array.isArray(t)?t.filter(n):r.fold(function(r,t,e,u){return n(t,e,u)&&r.push(t),r},t,[])},r.fold=function(n,t,e){if(t.reduce&&Array.isArray(t))return arguments.length<3?t.reduce(n):t.reduce(n,e);var u=t.length,i=0;for(arguments.length<3&&(e=u?t[i++]:r.err(err_fold_));u>i;i++)e=n(e,t[i],i,t);return e},r.foldR=function(n,t,e){if(t.reduceRight&&Array.isArray(t))return arguments.length<3?t.reduceRight(n):t.reduceRight(n,e);var u=t.length;for(arguments.length<3&&(e=u?t[--u]:r.err(err_foldR_));--u>=0;)e=n(e,t[u],u,t);return e},r.sum=function(r){for(var n=r.length,t=0,e=0;n>e;e++)t+=r[e];return t},r.test=function(n){if((0===n||""===n)&&(n=typeof n),"string"==typeof n)return function(r){return typeof r==n};if(n===Array||n===Date||n===RegExp)return function(r){return null!=r&&r.constructor==n};if(null===n)return r.eqTo(null);if(n.constructor==RegExp)return r("test",n);if("function"==typeof n)return n;if(Array.isArray(n))return 1==n.length?(n=r.test(n[0]),function(t){return Array.isArray(t)&&r.all(n,t)}):(n=r.map(r.test,n),function(t){return r.any(function(r){return r(t)},n)});if("object"==typeof n){var t=Object.keys(n),e=r.map(r.o(r.test,r(n)),t);return function(n){return null!=n&&r.all(function(r,t){return e[t](n[r])},t)}}r.err(err_test_)},r.translations_={},r.s=function(n){return r.translations_[n]||n},r}(),F;void 0===F&&(F=jsCurry),"object"==typeof module&&(module.exports=jsCurry);